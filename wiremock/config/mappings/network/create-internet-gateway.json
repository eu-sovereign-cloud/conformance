{
	"name": "create-internet-gateway",
	"priority": 10,
	"request": {
		"method": "PUT",
		"urlPathPattern": "/providers/seca.network/v1/tenants/([^/]+)/workspaces/([^/]+)/internet-gateways/([^/]+)",
		"headers": {
			"Content-Type": {
				"equalTo": "application/json"
			},
			"Accept": {
				"equalTo": "application/json"
			},
			"Authorization": {
				"matches": "Bearer .+"
			}
		},
		"bodyPatterns": [
			{
				"matchesJsonPath": "$[?(@.spec != null)]"
			}
		]
	},
	"response": {
		"status": 201,
		"headers": {
			"Content-Type": "application/json"
		},
		"jsonBody": {
			"metadata": {
				"name": "{{request.pathSegments.[8]}}",
				"createdAt": "2025-07-25T09:45:00Z",
				"lastModifiedAt": "2025-07-25T09:45:00Z",
				"resourceVersion": 1,
				"tenant": "{{request.pathSegments.[3]}}",
				"region": "europe-west1",
				"apiVersion": "v1",
				"kind": "internet-gateway",
				"scope": "workspace/{{request.pathSegments.[5]}}",
				"resource": "seca.network/internet-gateways/{{request.pathSegments.[7]}}",
				"verb": "put",
				"workspace": "{{request.pathSegments.[5]}}"
			},
			"spec": {
				"egressOnly": "{{jsonPath request.body '$.spec.egressOnly' fallback false}}"
			},
			"status": {
				"state": "creating",
				"conditions": [
					{
						"state": "creating",
						"lastTransitionAt": "2025-07-25T09:45:00Z"
					}
				]
			}
		}
	}
}